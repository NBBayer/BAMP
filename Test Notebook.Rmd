---
title: "Test BAMP Data Analyses"
output: html_notebook
---
```{r}
library(ggplot2)
library(tidyr)
install.packages("gridExtra")
library(gridExtra)
#Comment Test ChS
```
 

This is a first **Test** to see how we can add the data we have in the different excel sheets together and asses the data quality. 

The hotel we are looking at is the **2926 | Waldhotel Wiesmann** a XX Star Hotel in XX.

First we import the data-set "Belegung" into R.
The data set shows the occupancy of the hotel per day. 
As we can see with simple statistical visualization approaches, like Historgrams and Boxplots: 

- 0 occupancy has the highest frequenzy
- The mean frequenzy is arroung 8.36 rooms

```{r}
summary(Belegung)
boxplot(Belegung$X2926.belegteZimmer)
hist(Belegung$X2926.belegteZimmer)
```

For further analytics purpose we need to split the column X into date and time.
Also we need to adjust the data type and need to see if we have any missing values.


```{r}
Belegung_copy <- separate(Belegung, col = X, sep = " ", into = c("Date", "Time"))
Belegung_clean <- Belegung_copy[,c(1,3)]
Belegung_clean$Date <- as.Date(Belegung_clean$Date)
class(Belegung_clean$Date)
summary(Belegung_clean)
sum(is.na(Belegung_clean))

```


To get more insights into the data we should try to plot a time series and see the changes in the occupancy per time. To get the time series we 

```{r}
Belegung_ts <- ts(Belegung_clean, frequency = 365, start = c(2019,1,1) )
plot(Belegung_ts, xlab = "Tag",ylab = "Belegung", main = "Ãœbernachtungen pro Tag 2019/2020")

```
```{r}
comp <- decompose(Belegung_ts, type = "additive")
plot(comp)
```

After we have seen the occupancy of the hotel we are looking into the heating consumption of the hotel.

```{r}
HC_Hotel <- TFX_all[,c(1,6:9)]
HC_Hotel_nodate <- HC_Hotel[,c(-1)]
summary(HC_Hotel)
```
Make a first simple analyses of the heating consumption data of the hotel.

```{r}

boxplot(HC_Hotel$Hotel.Flowrate,HC_Hotel$Hotel.Leistung)
hist(HC_Hotel$Hotel.Flowrate)
hist(HC_Hotel$Hotel.Leistung)

```


Transform the X column into a date/time column

```{r}
HC_Hotel$X <- strptime(HC_Hotel$X, format = "%Y-%m-%d %R")
NAs <- table(is.na(HC_Hotel))
NAs
HC_Hotel$X[NAs]

```

This is a test if this line is here the request was correct. 